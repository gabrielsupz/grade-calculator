import{R as $}from"./react-e3ff4c6a.js";var te=e=>e.type==="checkbox",X=e=>e instanceof Date,C=e=>e==null;const Ge=e=>typeof e=="object";var E=e=>!C(e)&&!Array.isArray(e)&&Ge(e)&&!X(e),fr=e=>E(e)&&e.target?te(e.target)?e.target.checked:e.target.value:e,cr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dr=(e,s)=>e.has(cr(s)),se=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>e===void 0,c=(e,s,i)=>{if(!s||!E(e))return i;const o=se(s.split(/[,[\].]+?/)).reduce((t,a)=>C(t)?t:t[a],e);return m(o)||o===e?m(e[s])?i:e[s]:o};const Pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},I={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},W={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var yr=(e,s,i,o=!0)=>{const t={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(t,a,{get:()=>{const y=a;return s._proxyFormState[y]!==I.all&&(s._proxyFormState[y]=!o||I.all),i&&(i[y]=!0),e[y]}});return t},R=e=>E(e)&&!Object.keys(e).length,hr=(e,s,i)=>{const{name:o,...t}=e;return R(t)||Object.keys(t).length>=Object.keys(s).length||Object.keys(t).find(a=>s[a]===(!i||I.all))},Fe=e=>Array.isArray(e)?e:[e];function gr(e){const s=$.useRef(e);s.current=e,$.useEffect(()=>{const i=!e.disabled&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",vr=(e,s,i,o,t)=>H(e)?(o&&s.watch.add(e),c(i,e,t)):Array.isArray(e)?e.map(a=>(o&&s.watch.add(a),c(i,a))):(o&&(s.watchAll=!0),i),_r=e=>{const s=e.constructor&&e.constructor.prototype;return E(s)&&s.hasOwnProperty("isPrototypeOf")},Se=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Se&&(e instanceof Blob||e instanceof FileList))&&(i||E(e)))if(s=i?[]:{},!Array.isArray(e)&&!_r(e))s=e;else for(const o in e)s[o]=z(e[o]);else return e;return s}var br=(e,s,i,o,t)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[o]:t||!0}}:{},Ee=e=>/^\w*$/.test(e),Je=e=>se(e.replace(/["|']|\]/g,"").split(/\.|\[/));function x(e,s,i){let o=-1;const t=Ee(s)?[s]:Je(s),a=t.length,y=a-1;for(;++o<a;){const g=t[o];let w=i;if(o!==y){const b=e[g];w=E(b)||Array.isArray(b)?b:isNaN(+t[o+1])?{}:[]}e[g]=w,e=e[g]}return e}const ke=(e,s,i)=>{for(const o of i||Object.keys(e)){const t=c(e,o);if(t){const{_f:a,...y}=t;if(a&&s(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else E(y)&&ke(y,s)}}};var Ie=e=>({isOnSubmit:!e||e===I.onSubmit,isOnBlur:e===I.onBlur,isOnChange:e===I.onChange,isOnAll:e===I.all,isOnTouch:e===I.onTouched}),qe=(e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length)))),Ar=(e,s,i)=>{const o=se(c(e,i));return x(o,"root",s[i]),x(e,i,o),e},Y=e=>typeof e=="boolean",Oe=e=>e.type==="file",Z=e=>typeof e=="function",fe=e=>{if(!Se)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},oe=e=>H(e)||$.isValidElement(e),Le=e=>e.type==="radio",ce=e=>e instanceof RegExp;const pe={value:!1,isValid:!1},He={value:!0,isValid:!0};var Qe=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||e[0].value===""?He:{value:e[0].value,isValid:!0}:He:pe}return pe};const We={isValid:!1,value:null};var Xe=e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,We):We;function $e(e,s,i="validate"){if(oe(e)||Array.isArray(e)&&e.every(oe)||Y(e)&&!e)return{type:i,message:oe(e)?e:"",ref:s}}var Q=e=>E(e)&&!ce(e)?e:{value:e,message:""},Ke=async(e,s,i,o,t)=>{const{ref:a,refs:y,required:g,maxLength:w,minLength:b,min:q,max:U,pattern:k,validate:v,name:M,valueAsNumber:he,mount:ie,disabled:ge}=e._f;if(!ie||ge)return{};const T=y?y[0]:a,N=_=>{o&&T.reportValidity&&(T.setCustomValidity(Y(_)?"":_||""),T.reportValidity())},S={},ne=Le(a),j=te(a),le=ne||j,J=(he||Oe(a))&&m(a.value)&&m(s)||fe(a)&&a.value===""||s===""||Array.isArray(s)&&!s.length,B=br.bind(null,M,i,S),ae=(_,A,F,O=W.maxLength,p=W.minLength)=>{const P=_?A:F;S[M]={type:_?O:p,message:P,ref:a,...B(_?O:p,P)}};if(t?!Array.isArray(s)||!s.length:g&&(!le&&(J||C(s))||Y(s)&&!s||j&&!Qe(y).isValid||ne&&!Xe(y).isValid)){const{value:_,message:A}=oe(g)?{value:!!g,message:g}:Q(g);if(_&&(S[M]={type:W.required,message:A,ref:T,...B(W.required,A)},!i))return N(A),S}if(!J&&(!C(q)||!C(U))){let _,A;const F=Q(U),O=Q(q);if(!C(s)&&!isNaN(s)){const p=a.valueAsNumber||s&&+s;C(F.value)||(_=p>F.value),C(O.value)||(A=p<O.value)}else{const p=a.valueAsDate||new Date(s),P=ue=>new Date(new Date().toDateString()+" "+ue),ee=a.type=="time",K=a.type=="week";H(F.value)&&s&&(_=ee?P(s)>P(F.value):K?s>F.value:p>new Date(F.value)),H(O.value)&&s&&(A=ee?P(s)<P(O.value):K?s<O.value:p<new Date(O.value))}if((_||A)&&(ae(!!_,F.message,O.message,W.max,W.min),!i))return N(S[M].message),S}if((w||b)&&!J&&(H(s)||t&&Array.isArray(s))){const _=Q(w),A=Q(b),F=!C(_.value)&&s.length>_.value,O=!C(A.value)&&s.length<A.value;if((F||O)&&(ae(F,_.message,A.message),!i))return N(S[M].message),S}if(k&&!J&&H(s)){const{value:_,message:A}=Q(k);if(ce(_)&&!s.match(_)&&(S[M]={type:W.pattern,message:A,ref:a,...B(W.pattern,A)},!i))return N(A),S}if(v){if(Z(v)){const _=await v(s),A=$e(_,T);if(A&&(S[M]={...A,...B(W.validate,A.message)},!i))return N(A.message),S}else if(E(v)){let _={};for(const A in v){if(!R(_)&&!i)break;const F=$e(await v[A](s),T,A);F&&(_={...F,...B(A,F.message)},N(F.message),i&&(S[M]=_))}if(!R(_)&&(S[M]={ref:T,..._},!i))return S}}return N(!0),S};function wr(e,s){const i=s.slice(0,-1).length;let o=0;for(;o<i;)e=m(e)?o++:e[s[o++]];return e}function Fr(e){for(const s in e)if(!m(e[s]))return!1;return!0}function L(e,s){const i=Ee(s)?[s]:Je(s),o=i.length==1?e:wr(e,i),t=i[i.length-1];let a;o&&delete o[t];for(let y=0;y<i.slice(0,-1).length;y++){let g=-1,w;const b=i.slice(0,-(y+1)),q=b.length-1;for(y>0&&(a=e);++g<b.length;){const U=b[g];w=w?w[U]:e[U],q===g&&(E(w)&&R(w)||Array.isArray(w)&&Fr(w))&&(a?delete a[U]:delete e[U]),a=w}}return e}function xe(){let e=[];return{get observers(){return e},next:t=>{for(const a of e)a.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(a=>a!==t)}}),unsubscribe:()=>{e=[]}}}var de=e=>C(e)||!Ge(e);function G(e,s){if(de(e)||de(s))return e===s;if(X(e)&&X(s))return e.getTime()===s.getTime();const i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;for(const t of i){const a=e[t];if(!o.includes(t))return!1;if(t!=="ref"){const y=s[t];if(X(a)&&X(y)||E(a)&&E(y)||Array.isArray(a)&&Array.isArray(y)?!G(a,y):a!==y)return!1}}return!0}var Ye=e=>e.type==="select-multiple",xr=e=>Le(e)||te(e),De=e=>fe(e)&&e.isConnected,Ze=e=>{for(const s in e)if(Z(e[s]))return!0;return!1};function ye(e,s={}){const i=Array.isArray(e);if(E(e)||i)for(const o in e)Array.isArray(e[o])||E(e[o])&&!Ze(e[o])?(s[o]=Array.isArray(e[o])?[]:{},ye(e[o],s[o])):C(e[o])||(s[o]=!0);return s}function je(e,s,i){const o=Array.isArray(e);if(E(e)||o)for(const t in e)Array.isArray(e[t])||E(e[t])&&!Ze(e[t])?m(s)||de(i[t])?i[t]=Array.isArray(e[t])?ye(e[t],[]):{...ye(e[t])}:je(e[t],C(s)?{}:s[t],i[t]):G(e[t],s[t])?delete i[t]:i[t]=!0;return i}var Ve=(e,s)=>je(e,s,ye(s)),er=(e,{valueAsNumber:s,valueAsDate:i,setValueAs:o})=>m(e)?e:s?e===""?NaN:e&&+e:i&&H(e)?new Date(e):o?o(e):e;function me(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Oe(s)?s.files:Le(s)?Xe(e.refs).value:Ye(s)?[...s.selectedOptions].map(({value:i})=>i):te(s)?Qe(e.refs).value:er(m(s.value)?e.ref.value:s.value,e)}var Dr=(e,s,i,o)=>{const t={};for(const a of e){const y=c(s,a);y&&x(t,a,y._f)}return{criteriaMode:i,names:[...e],fields:t,shouldUseNativeValidation:o}},re=e=>m(e)?e:ce(e)?e.source:E(e)?ce(e.value)?e.value.source:e.value:e,Vr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ze(e,s,i){const o=c(e,i);if(o||Ee(i))return{error:o,name:i};const t=i.split(".");for(;t.length;){const a=t.join("."),y=c(s,a),g=c(e,a);if(y&&!Array.isArray(y)&&i!==a)return{name:i};if(g&&g.type)return{name:a,error:g};t.pop()}return{name:i}}var mr=(e,s,i,o,t)=>t.isOnAll?!1:!i&&t.isOnTouch?!(s||e):(i?o.isOnBlur:t.isOnBlur)?!e:(i?o.isOnChange:t.isOnChange)?e:!0,kr=(e,s)=>!se(c(e,s)).length&&L(e,s);const Sr={mode:I.onSubmit,reValidateMode:I.onChange,shouldFocusError:!0};function Er(e={},s){let i={...Sr,...e};const o=e.resetOptions&&e.resetOptions.keepDirtyValues;let t={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},y=E(i.defaultValues)?z(i.defaultValues)||{}:{},g=i.shouldUnregister?{}:z(y),w={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},q,U=0;const k={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:xe(),array:xe(),state:xe()},M=Ie(i.mode),he=Ie(i.reValidateMode),ie=i.criteriaMode===I.all,ge=r=>n=>{clearTimeout(U),U=window.setTimeout(r,n)},T=async()=>{if(k.isValid){const r=i.resolver?R((await B()).errors):await _(a,!0);r!==t.isValid&&(t.isValid=r,v.state.next({isValid:r}))}},N=r=>k.isValidating&&v.state.next({isValidating:r}),S=(r,n=[],l,f,d=!0,u=!0)=>{if(f&&l){if(w.action=!0,u&&Array.isArray(c(a,r))){const h=l(c(a,r),f.argA,f.argB);d&&x(a,r,h)}if(u&&Array.isArray(c(t.errors,r))){const h=l(c(t.errors,r),f.argA,f.argB);d&&x(t.errors,r,h),kr(t.errors,r)}if(k.touchedFields&&u&&Array.isArray(c(t.touchedFields,r))){const h=l(c(t.touchedFields,r),f.argA,f.argB);d&&x(t.touchedFields,r,h)}k.dirtyFields&&(t.dirtyFields=Ve(y,g)),v.state.next({name:r,isDirty:F(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else x(g,r,n)},ne=(r,n)=>{x(t.errors,r,n),v.state.next({errors:t.errors})},j=(r,n,l,f)=>{const d=c(a,r);if(d){const u=c(g,r,m(l)?c(y,r):l);m(u)||f&&f.defaultChecked||n?x(g,r,n?u:me(d._f)):P(r,u),w.mount&&T()}},le=(r,n,l,f,d)=>{let u=!1,h=!1;const V={name:r};if(!l||f){k.isDirty&&(h=t.isDirty,t.isDirty=V.isDirty=F(),u=h!==V.isDirty);const D=G(c(y,r),n);h=c(t.dirtyFields,r),D?L(t.dirtyFields,r):x(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,u=u||k.dirtyFields&&h!==!D}if(l){const D=c(t.touchedFields,r);D||(x(t.touchedFields,r,l),V.touchedFields=t.touchedFields,u=u||k.touchedFields&&D!==l)}return u&&d&&v.state.next(V),u?V:{}},J=(r,n,l,f)=>{const d=c(t.errors,r),u=k.isValid&&Y(n)&&t.isValid!==n;if(e.delayError&&l?(q=ge(()=>ne(r,l)),q(e.delayError)):(clearTimeout(U),q=null,l?x(t.errors,r,l):L(t.errors,r)),(l?!G(d,l):d)||!R(f)||u){const h={...f,...u&&Y(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...h},v.state.next(h)}N(!1)},B=async r=>await i.resolver(g,i.context,Dr(r||b.mount,a,i.criteriaMode,i.shouldUseNativeValidation)),ae=async r=>{const{errors:n}=await B();if(r)for(const l of r){const f=c(n,l);f?x(t.errors,l,f):L(t.errors,l)}else t.errors=n;return n},_=async(r,n,l={valid:!0})=>{for(const f in r){const d=r[f];if(d){const{_f:u,...h}=d;if(u){const V=b.array.has(u.name),D=await Ke(d,c(g,u.name),ie,i.shouldUseNativeValidation,V);if(D[u.name]&&(l.valid=!1,n))break;!n&&(c(D,u.name)?V?Ar(t.errors,D,u.name):x(t.errors,u.name,D[u.name]):L(t.errors,u.name))}h&&await _(h,n,l)}}return l.valid},A=()=>{for(const r of b.unMount){const n=c(a,r);n&&(n._f.refs?n._f.refs.every(l=>!De(l)):!De(n._f.ref))&&_e(r)}b.unMount=new Set},F=(r,n)=>(r&&n&&x(g,r,n),!G(Ce(),y)),O=(r,n,l)=>vr(r,b,{...w.mount?g:m(n)?y:H(r)?{[r]:n}:n},l,n),p=r=>se(c(w.mount?g:y,r,e.shouldUnregister?c(y,r,[]):[])),P=(r,n,l={})=>{const f=c(a,r);let d=n;if(f){const u=f._f;u&&(!u.disabled&&x(g,r,er(n,u)),d=fe(u.ref)&&C(n)?"":n,Ye(u.ref)?[...u.ref.options].forEach(h=>h.selected=d.includes(h.value)):u.refs?te(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(V=>V===h.value):d===h.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(h=>h.checked=h.value===d):Oe(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||v.watch.next({name:r})))}(l.shouldDirty||l.shouldTouch)&&le(r,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ve(r)},ee=(r,n,l)=>{for(const f in n){const d=n[f],u=`${r}.${f}`,h=c(a,u);(b.array.has(r)||!de(d)||h&&!h._f)&&!X(d)?ee(u,d,l):P(u,d,l)}},K=(r,n,l={})=>{const f=c(a,r),d=b.array.has(r),u=z(n);x(g,r,u),d?(v.array.next({name:r,values:g}),(k.isDirty||k.dirtyFields)&&l.shouldDirty&&(t.dirtyFields=Ve(y,g),v.state.next({name:r,dirtyFields:t.dirtyFields,isDirty:F(r,u)}))):f&&!f._f&&!C(u)?ee(r,u,l):P(r,u,l),qe(r,b)&&v.state.next({}),v.watch.next({name:r}),!w.mount&&s()},ue=async r=>{const n=r.target;let l=n.name;const f=c(a,l),d=()=>n.type?me(f._f):fr(r);if(f){let u,h;const V=d(),D=r.type===Pe.BLUR||r.type===Pe.FOCUS_OUT,ar=!Vr(f._f)&&!i.resolver&&!c(t.errors,l)&&!f._f.deps||mr(D,c(t.touchedFields,l),t.isSubmitted,he,M),Ae=qe(l,b,D);x(g,l,V),D?(f._f.onBlur&&f._f.onBlur(r),q&&q(0)):f._f.onChange&&f._f.onChange(r);const we=le(l,V,D,!1),ur=!R(we)||Ae;if(!D&&v.watch.next({name:l,type:r.type}),ar)return k.isValid&&T(),ur&&v.state.next({name:l,...Ae?{}:we});if(!D&&Ae&&v.state.next({}),N(!0),i.resolver){const{errors:Ne}=await B([l]),or=ze(t.errors,a,l),Be=ze(Ne,a,or.name||l);u=Be.error,l=Be.name,h=R(Ne)}else u=(await Ke(f,c(g,l),ie,i.shouldUseNativeValidation))[l],u?h=!1:k.isValid&&(h=await _(a,!0));f._f.deps&&ve(f._f.deps),J(l,h,u,we)}},ve=async(r,n={})=>{let l,f;const d=Fe(r);if(N(!0),i.resolver){const u=await ae(m(r)?r:d);l=R(u),f=r?!d.some(h=>c(u,h)):l}else r?(f=(await Promise.all(d.map(async u=>{const h=c(a,u);return await _(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!f&&!t.isValid)&&T()):f=l=await _(a);return v.state.next({...!H(r)||k.isValid&&l!==t.isValid?{}:{name:r},...i.resolver||!r?{isValid:l}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!f&&ke(a,u=>u&&c(t.errors,u),r?d:b.mount),f},Ce=r=>{const n={...y,...w.mount?g:{}};return m(r)?n:H(r)?c(n,r):r.map(l=>c(n,l))},Te=(r,n)=>({invalid:!!c((n||t).errors,r),isDirty:!!c((n||t).dirtyFields,r),isTouched:!!c((n||t).touchedFields,r),error:c((n||t).errors,r)}),rr=r=>{r?Fe(r).forEach(n=>L(t.errors,n)):t.errors={},v.state.next({errors:t.errors})},tr=(r,n,l)=>{const f=(c(a,r,{_f:{}})._f||{}).ref;x(t.errors,r,{...n,ref:f}),v.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&f&&f.focus&&f.focus()},sr=(r,n)=>Z(r)?v.watch.subscribe({next:l=>r(O(void 0,n),l)}):O(r,n,!0),_e=(r,n={})=>{for(const l of r?Fe(r):b.mount)b.mount.delete(l),b.array.delete(l),c(a,l)&&(n.keepValue||(L(a,l),L(g,l)),!n.keepError&&L(t.errors,l),!n.keepDirty&&L(t.dirtyFields,l),!n.keepTouched&&L(t.touchedFields,l),!i.shouldUnregister&&!n.keepDefaultValue&&L(y,l));v.watch.next({}),v.state.next({...t,...n.keepDirty?{isDirty:F()}:{}}),!n.keepIsValid&&T()},be=(r,n={})=>{let l=c(a,r);const f=Y(n.disabled);return x(a,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),b.mount.add(r),l?f&&x(g,r,n.disabled?void 0:c(g,r,me(l._f))):j(r,!0,n.value),{...f?{disabled:n.disabled}:{},...i.shouldUseNativeValidation?{required:!!n.required,min:re(n.min),max:re(n.max),minLength:re(n.minLength),maxLength:re(n.maxLength),pattern:re(n.pattern)}:{},name:r,onChange:ue,onBlur:ue,ref:d=>{if(d){be(r,n),l=c(a,r);const u=m(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=xr(u),V=l._f.refs||[];if(h?V.find(D=>D===u):u===l._f.ref)return;x(a,r,{_f:{...l._f,...h?{refs:[...V.filter(De),u,...Array.isArray(c(y,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),j(r,!1,void 0,u)}else l=c(a,r,{}),l._f&&(l._f.mount=!1),(i.shouldUnregister||n.shouldUnregister)&&!(dr(b.array,r)&&w.action)&&b.unMount.add(r)}}},Re=()=>i.shouldFocusError&&ke(a,r=>r&&c(t.errors,r),b.mount),ir=(r,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=!0,d=z(g);v.state.next({isSubmitting:!0});try{if(i.resolver){const{errors:u,values:h}=await B();t.errors=u,d=h}else await _(a);R(t.errors)?(v.state.next({errors:{},isSubmitting:!0}),await r(d,l)):(n&&await n({...t.errors},l),Re())}catch(u){throw f=!1,u}finally{t.isSubmitted=!0,v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:R(t.errors)&&f,submitCount:t.submitCount+1,errors:t.errors})}},nr=(r,n={})=>{c(a,r)&&(m(n.defaultValue)?K(r,c(y,r)):(K(r,n.defaultValue),x(y,r,n.defaultValue)),n.keepTouched||L(t.touchedFields,r),n.keepDirty||(L(t.dirtyFields,r),t.isDirty=n.defaultValue?F(r,c(y,r)):F()),n.keepError||(L(t.errors,r),k.isValid&&T()),v.state.next({...t}))},Ue=(r,n={})=>{const l=r||y,f=z(l),d=r&&!R(r)?f:y;if(n.keepDefaultValues||(y=l),!n.keepValues){if(n.keepDirtyValues||o)for(const u of b.mount)c(t.dirtyFields,u)?x(d,u,c(g,u)):K(u,c(d,u));else{if(Se&&m(r))for(const u of b.mount){const h=c(a,u);if(h&&h._f){const V=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(fe(V)){const D=V.closest("form");if(D){D.reset();break}}}}a={}}g=e.shouldUnregister?n.keepDefaultValues?z(y):{}:f,v.array.next({values:d}),v.watch.next({values:d})}b={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!w.mount&&s(),w.mount=!k.isValid||!!n.keepIsValid,w.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?t.isDirty:!!(n.keepDefaultValues&&!G(r,y)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&r?Ve(y,r):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Me=(r,n)=>Ue(Z(r)?r(g):r,n),lr=(r,n={})=>{const l=c(a,r),f=l&&l._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),n.shouldSelect&&d.select())}};return Z(i.defaultValues)&&i.defaultValues().then(r=>{Me(r,i.resetOptions),v.state.next({isLoading:!1})}),{control:{register:be,unregister:_e,getFieldState:Te,_executeSchema:B,_focusError:Re,_getWatch:O,_getDirty:F,_updateValid:T,_removeUnmounted:A,_updateFieldArray:S,_getFieldArray:p,_reset:Ue,_subjects:v,_proxyFormState:k,get _fields(){return a},get _formValues(){return g},get _stateFlags(){return w},set _stateFlags(r){w=r},get _defaultValues(){return y},get _names(){return b},set _names(r){b=r},get _formState(){return t},set _formState(r){t=r},get _options(){return i},set _options(r){i={...i,...r}}},trigger:ve,register:be,handleSubmit:ir,watch:sr,setValue:K,getValues:Ce,reset:Me,resetField:nr,clearErrors:rr,unregister:_e,setError:tr,setFocus:lr,getFieldState:Te}}function Lr(e={}){const s=$.useRef(),[i,o]=$.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Er(e,()=>o(a=>({...a}))),formState:i});const t=s.current.control;return t._options=e,gr({subject:t._subjects.state,next:a=>{hr(a,t._proxyFormState,!0)&&(t._formState={...t._formState,...a},o({...t._formState}))}}),$.useEffect(()=>{t._stateFlags.mount||(t._proxyFormState.isValid&&t._updateValid(),t._stateFlags.mount=!0),t._stateFlags.watch&&(t._stateFlags.watch=!1,t._subjects.state.next({})),t._removeUnmounted()}),$.useEffect(()=>{e.values&&!G(e.values,t._defaultValues)&&t._reset(e.values,t._options.resetOptions)},[e.values,t]),$.useEffect(()=>{i.submitCount&&t._focusError()},[t,i.submitCount]),s.current.formState=yr(i,t),s.current}export{Lr as u};
